{"version":3,"sources":["./src/app/pages/account/organization/organization-routing.module.ts","./src/app/pages/account/organization/organization.component.ts","./src/app/pages/account/organization/organization.component.html","./src/app/pages/account/organization/organization.module.ts"],"names":[],"mappings":"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","file":"pages-account-organization-organization-module-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { OrganizationComponent } from './organization.component';\n\nconst routes: Routes = [\n  { path: '', component: OrganizationComponent },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class OrganizationRoutingModule { }\n","import { Component, OnInit } from '@angular/core';\nimport { NzModalService } from 'ng-zorro-antd/modal';\n\nexport interface TreeNodeInterface {\n  key: string;\n  name: string;\n  type?: string;\n  level?: number;\n  expand?: boolean;\n  address?: string;\n  children?: TreeNodeInterface[];\n  parent?: TreeNodeInterface;\n}\n\n@Component({\n  selector: 'app-organization',\n  templateUrl: './organization.component.html',\n  styleUrls: ['./organization.component.scss']\n})\nexport class OrganizationComponent implements OnInit {\n\n  value?: string;\n\n  listOfMapData: TreeNodeInterface[] = [\n    {\n      key: `1`,\n      name: '广州军区',\n      type: '军',\n      address: '广州番禺南澳花园',\n      children: [\n        {\n          key: `1-1`,\n          name: '黄埔军校',\n          type: '师',\n          address: '广州番禺南澳花园',\n          children: [\n            {\n              key: `1-1-1`,\n              name: '特战旅',\n              type: '旅',\n              address: '广州番禺南澳花园'\n            }\n          ]\n        },\n        {\n          key: `1-2`,\n          name: '海军战队',\n          type: '团',\n          address: '广州番禺南澳花园',\n        },\n        {\n          key: `1-3`,\n          name: '炮兵连',\n          type: '营',\n          address: '广州番禺南澳花园'\n        }\n      ]\n    },\n    {\n      key: `2`,\n      name: '北京军区',\n      type: '军',\n      address: '广州番禺南澳花园'\n    }\n  ];\n\n  mapOfExpandedData: { [key: string]: TreeNodeInterface[] } = {};\n\n  constructor(private modal: NzModalService) { }\n  \n  ngOnInit(): void {\n    this.listOfMapData.forEach(item => {\n      this.mapOfExpandedData[item.key] = this.convertTreeToList(item);\n    });\n  }\n\n  collapse(array: TreeNodeInterface[], data: TreeNodeInterface, $event: boolean): void {\n    if (!$event) {\n      if (data.children) {\n        data.children.forEach(d => {\n          const target = array.find(a => a.key === d.key)!;\n          target.expand = false;\n          this.collapse(array, target, false);\n        });\n      } else {\n        return;\n      }\n    }\n  }\n\n  convertTreeToList(root: TreeNodeInterface): TreeNodeInterface[] {\n    const stack: TreeNodeInterface[] = [];\n    const array: TreeNodeInterface[] = [];\n    const hashMap = {};\n    stack.push({ ...root, level: 0, expand: false });\n\n    while (stack.length !== 0) {\n      const node = stack.pop()!;\n      this.visitNode(node, hashMap, array);\n      if (node.children) {\n        for (let i = node.children.length - 1; i >= 0; i--) {\n          stack.push({ ...node.children[i], level: node.level! + 1, expand: false, parent: node });\n        }\n      }\n    }\n\n    return array;\n  }\n\n  visitNode(node: TreeNodeInterface, hashMap: { [key: string]: boolean }, array: TreeNodeInterface[]): void {\n    if (!hashMap[node.key]) {\n      hashMap[node.key] = true;\n      array.push(node);\n    }\n  }\n\n\n  // modal\n  showConfirm(): void {\n    this.modal.confirm({\n      nzTitle: '提示',\n      nzContent: '你正在删除机构，删除后不可恢复，确定要删除?',\n      nzOkText: '删除',\n      nzCancelText: '取消',\n      nzOnOk: () => console.log('OK'),\n      nzOnCancel: () => console.log('Cancel')\n    });\n  }\n\n}\n","<!--页头部-->\n<app-page-header></app-page-header>\n\n<!-- 搜索 + 添加 -->\n<div class=\"or-header\">\n\n  <div class=\"organization-search\">\n    <input nz-input placeholder=\"请输入机构名称\" [(ngModel)]=\"value\" class=\"search-ipt\" />\n    <button nz-button nzType=\"primary\" class=\"or-search-btn\">查询</button>\n    <button nz-button nzType=\"default\">重置</button>\n  </div>\n\n  <div class=\"add-button\">\n    <a> <button nz-button nzType=\"primary\" [routerLink]=\"['/admin/organization/infoUpdate/', 'add']\">手动添加</button></a>\n  </div>\n\n</div>\n\n<!-- 表格 -->\n<div style=\"padding: 0 24px;\">\n  <nz-table #expandTable [nzData]=\"listOfMapData\" nzTableLayout=\"fixed\">\n    <thead>\n      <tr>\n        <th>机构名称</th>\n        <th>机构类型</th>\n        <th>地址</th>\n        <th>操作</th>\n      </tr>\n    </thead>\n    <tbody>\n      <ng-container *ngFor=\"let data of expandTable.data\">\n        <ng-container *ngFor=\"let item of mapOfExpandedData[data.key]\">\n          <tr *ngIf=\"(item.parent && item.parent.expand) || !item.parent\">\n            <td [nzIndentSize]=\"item.level! * 20\" [nzShowExpand]=\"!!item.children\" [(nzExpand)]=\"item.expand\"\n              (nzExpandChange)=\"collapse(mapOfExpandedData[data.key], item, $event)\">\n              {{ item.name }}\n            </td>\n            <td>{{ item.type }}</td>\n            <td>{{ item.address }}</td>\n            <td>\n              <a [routerLink]=\"['/admin/organization/infoUpdate/', 'update']\">单位信息</a> &nbsp;&nbsp;\n              <a (click)=\"showConfirm()\">删除</a>\n            </td>\n          </tr>\n        </ng-container>\n      </ng-container>\n    </tbody>\n  </nz-table>\n</div>","import { NgModule } from '@angular/core';\nimport {CommonModule} from '@angular/common';\n\nimport { OrganizationRoutingModule } from './organization-routing.module';\nimport { OrganizationComponent } from './organization.component';\nimport {PageHeaderModule} from '../../../components/page-header/page-header.module'\nimport { NzButtonModule } from 'ng-zorro-antd/button';\nimport { NzTableModule } from 'ng-zorro-antd/table';\nimport { NzDividerModule } from 'ng-zorro-antd/divider';\nimport { NzFormModule } from 'ng-zorro-antd/form';\nimport { NzGridModule } from 'ng-zorro-antd/grid';\nimport { FormsModule,ReactiveFormsModule } from '@angular/forms';\nimport { NzInputModule } from 'ng-zorro-antd/input';\nimport { NzModalService } from 'ng-zorro-antd/modal';\nimport { NzModalModule } from 'ng-zorro-antd/modal';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    OrganizationRoutingModule,\n    PageHeaderModule,\n    NzButtonModule,\n    NzTableModule,\n    NzDividerModule,\n    NzFormModule,\n    NzGridModule,\n    ReactiveFormsModule,\n    NzInputModule,\n    FormsModule,\n    NzModalModule\n  ],\n  declarations: [OrganizationComponent],\n  exports: [OrganizationComponent],\n  providers: [NzModalService]\n})\nexport class OrganizationModule { }\n"],"sourceRoot":"webpack:///"}