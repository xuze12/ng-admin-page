{"version":3,"sources":["./src/app/pages/system/dictionary/components/attr-form-modal/attr-form-modal-routing.module.ts","./src/app/pages/system/dictionary/components/attr-form-modal/attr-form-modal.component.ts","./src/app/pages/system/dictionary/components/attr-form-modal/attr-form-modal.component.html","./src/app/pages/system/dictionary/components/attr-form-modal/attr-form-modal.module.ts","./src/app/pages/system/dictionary/dictionary-attr/dictionary-attr-routing.module.ts","./src/app/pages/system/dictionary/dictionary-attr/dictionary-attr.component.ts","./src/app/pages/system/dictionary/dictionary-attr/dictionary-attr.component.html","./src/app/pages/system/dictionary/dictionary-attr/dictionary-attr.module.ts"],"names":[],"mappings":"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","file":"pages-system-dictionary-dictionary-attr-dictionary-attr-module-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { AttrFormModalComponent } from './attr-form-modal.component';\n\nconst routes: Routes = [\n  { path: '', component: AttrFormModalComponent },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class AttrFormModalRoutingModule { }\n","import { Component, OnInit,Input } from '@angular/core';\nimport { AbstractControl, FormBuilder, FormControl, FormGroup, ValidatorFn, Validators } from '@angular/forms';\nimport { NzSafeAny } from 'ng-zorro-antd/core/types';\nimport { Observable, Observer } from 'rxjs';\n\n\n@Component({\n  selector: 'app-attr-form-modal',\n  templateUrl: './attr-form-modal.component.html',\n  styleUrls: ['./attr-form-modal.component.scss']\n})\nexport class AttrFormModalComponent implements OnInit {\n\n  @Input() isVisible: boolean\n  @Input() title: string\n  @Input() handleOk: any\n  @Input() handleCancel: any\n\n  validateForm: FormGroup;\n\n  constructor(private fb: FormBuilder) { }\n\n  ngOnInit(): void {\n    // use `MyValidators`\n    const { required, maxLength, minLength, } = MyValidators;\n    this.validateForm = this.fb.group({\n      menuName: ['', [required, maxLength(12), minLength(6)], [this.menuNameAsyncValidator]],\n      des:['', [required]],\n    });\n\n  }\n\n  submitForm(value: { menuName: string; }): void {\n    for (const key in this.validateForm.controls) {\n      this.validateForm.controls[key].markAsDirty();\n      this.validateForm.controls[key].updateValueAndValidity();\n    }\n    console.log(value);\n    this.handleOk(value)\n  }\n\n  menuNameAsyncValidator = (control: FormControl) =>\n    new Observable((observer: Observer<MyValidationErrors | null>) => {\n      setTimeout(() => {\n        if (control.value === 'JasonWood') {\n          observer.next({\n            duplicated: { 'zh-cn': `用户名已存在`, en: `The menuname is redundant!` }\n          });\n        } else {\n          observer.next(null);\n        }\n        observer.complete();\n      }, 1000);\n    });\n\n\n}\n\n// current locale is key of the MyErrorsOptions\nexport type MyErrorsOptions = { 'zh-cn': string; en: string } & Record<string, NzSafeAny>;\nexport type MyValidationErrors = Record<string, MyErrorsOptions>;\n\nexport class MyValidators extends Validators {\n  static minLength(minLength: number): ValidatorFn {\n    return (control: AbstractControl): MyValidationErrors | null => {\n      if (Validators.minLength(minLength)(control) === null) {\n        return null;\n      }\n      return { minlength: { 'zh-cn': `最小长度为 ${minLength}`, en: `MinLength is ${minLength}` } };\n    };\n  }\n\n  static maxLength(maxLength: number): ValidatorFn {\n    return (control: AbstractControl): MyValidationErrors | null => {\n      if (Validators.maxLength(maxLength)(control) === null) {\n        return null;\n      }\n      return { maxlength: { 'zh-cn': `最大长度为 ${maxLength}`, en: `MaxLength is ${maxLength}` } };\n    };\n  }\n\n}\n","<nz-modal [(nzVisible)]=\"isVisible\" [nzTitle]=\"title\" (nzOnCancel)=\"handleCancel()\" (nzOnOk)=\"submitForm(validateForm.value)\">\n  <form nz-form [formGroup]=\"validateForm\">\n    <nz-form-item>\n      <nz-form-label [nzSpan]=\"24\" nzRequired>字段名称</nz-form-label>\n      <nz-form-control [nzSpan]=\"18\" nzValidatingTip=\"Validating...\">\n        <input nz-input formControlName=\"menuName\" placeholder=\"请输入字段名称\" />\n      </nz-form-control>\n    </nz-form-item>\n    <nz-form-item>\n      <nz-form-label [nzSpan]=\"24\" nzRequired>描述</nz-form-label>\n      <nz-form-control [nzSpan]=\"18\" nzErrorTip=\"Please write something here!\">\n        <textarea formControlName=\"des\" nz-input rows=\"4\" placeholder=\"请输入描述文字\"></textarea>\n      </nz-form-control>\n    </nz-form-item>\n  </form>\n</nz-modal>\n","import { NgModule } from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport { FormsModule,ReactiveFormsModule } from '@angular/forms';\n\nimport { AttrFormModalRoutingModule } from './attr-form-modal-routing.module';\nimport { AttrFormModalComponent } from './attr-form-modal.component';\n\nimport { NzModalModule } from 'ng-zorro-antd/modal';\nimport { NzFormModule } from 'ng-zorro-antd/form';\nimport { NzButtonModule } from 'ng-zorro-antd/button';\nimport { NzInputModule } from 'ng-zorro-antd/input';\nimport { NzGridModule } from 'ng-zorro-antd/grid';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    ReactiveFormsModule,\n    AttrFormModalRoutingModule,\n    NzModalModule,\n    NzFormModule,\n    NzButtonModule,\n    NzInputModule,\n    NzGridModule\n  ],\n  declarations: [AttrFormModalComponent],\n  exports: [AttrFormModalComponent]\n})\nexport class AttrFormModalModule { }\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { DictionaryAttrComponent } from './dictionary-attr.component';\n\nconst routes: Routes = [\n  { path: '', component: DictionaryAttrComponent },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class DictionaryAttrRoutingModule { }\n","import { Component, OnInit } from '@angular/core';\nimport { NzModalService } from 'ng-zorro-antd/modal';\n\nexport interface TreeNodeInterface {\n  key: number;\n  name: string;\n  des?: string;\n  level?: number;\n  expand?: boolean;\n  children?: TreeNodeInterface[];\n  parent?: TreeNodeInterface;\n}\n\n@Component({\n  selector: 'app-dictionary-attr',\n  templateUrl: './dictionary-attr.component.html',\n  styleUrls: ['./dictionary-attr.component.scss']\n})\nexport class DictionaryAttrComponent implements OnInit {\n  listOfMapData: TreeNodeInterface[] = [\n    {\n      key: 1,\n      name: '军',\n      des: '组织机构属性，可在组织管理出进行配置',\n      children: [\n\n        {\n          key: 12,\n          name: '师',\n          des: '组织机构属性，可在组织管理出进行配置',\n          children: [\n            {\n              key: 121,\n              name: '团',\n              des: '组织机构属性，可在组织管理出进行配置',\n            }\n          ]\n        },\n\n      ]\n    },\n\n  ];\n  mapOfExpandedData: { [key: string]: TreeNodeInterface[] } = {};\n  addAttrModalOpen = false\n  editAttrModalOpen = false\n\n  constructor(private modal: NzModalService) { }\n\n  ngOnInit(): void {\n    this.listOfMapData.forEach(item => {\n      this.mapOfExpandedData[item.key] = this.convertTreeToList(item);\n    });\n\n  }\n\n  collapse(array: TreeNodeInterface[], data: TreeNodeInterface, $event: boolean): void {\n    if (!$event) {\n      if (data.children) {\n        data.children.forEach(d => {\n          const target = array.find(a => a.key === d.key)!;\n          target.expand = false;\n          this.collapse(array, target, false);\n        });\n      } else {\n        return;\n      }\n    }\n  }\n\n  convertTreeToList(root: TreeNodeInterface): TreeNodeInterface[] {\n    const stack: TreeNodeInterface[] = [];\n    const array: TreeNodeInterface[] = [];\n    const hashMap = {};\n    stack.push({ ...root, level: 0, expand: false });\n\n    while (stack.length !== 0) {\n      const node = stack.pop()!;\n      this.visitNode(node, hashMap, array);\n      if (node.children) {\n        for (let i = node.children.length - 1; i >= 0; i--) {\n          stack.push({ ...node.children[i], level: node.level! + 1, expand: false, parent: node });\n        }\n      }\n    }\n\n    return array;\n  }\n\n  visitNode(node: TreeNodeInterface, hashMap: { [key: string]: boolean }, array: TreeNodeInterface[]): void {\n    if (!hashMap[node.key]) {\n      hashMap[node.key] = true;\n      array.push(node);\n    }\n  }\n\n  // 显示 添加属性弹框\n  handleAddAttrModalShow = (): void => {\n    this.addAttrModalOpen = true;\n  }\n  // 添加属性弹框 确认\n  handleAddAttrOk = (value: any): void => {\n    console.log('-----value', value);\n    this.addAttrModalOpen = false;\n  }\n\n  // 添加属性弹框 关闭\n  handleAddAttrCancel = (): void => {\n    this.addAttrModalOpen = false;\n  }\n\n  // 显示 编辑属性弹框\n  handleEditAttrModalShow = (): void => {\n    this.editAttrModalOpen = true;\n  }\n  // 编辑属性弹框 确认\n  handleEditAttrOk = (value: any): void => {\n    console.log('-----value', value);\n    this.editAttrModalOpen = false;\n  }\n\n  // 编辑属性弹框 关闭\n  handleEditAttrCancel = (): void => {\n    this.editAttrModalOpen = false;\n  }\n\n  // 删除属性\n  showMenuDeleteConfirm(): void {\n    this.modal.confirm({\n      nzTitle: '提示',\n      nzContent: '<b style=\"color: red;\">你正在删除字段,删除后无法恢复,确定要删除？</b>',\n      nzOkText: '删除',\n      nzOkType: 'danger',\n      nzOnOk: () => console.log('OK'),\n      nzCancelText: '取消',\n      nzOnCancel: () => console.log('Cancel')\n    });\n  }\n\n}\n","<!--页头部-->\n<app-page-header></app-page-header>\n\n<!--添加按钮-->\n<div class=\"add-button\">\n  <a> <button nz-button nzType=\"primary\" (click)=\"handleAddAttrModalShow()\">添加</button></a>\n</div>\n\n<!--列表-->\n\n<nz-table #expandTable [nzData]=\"listOfMapData\" nzTableLayout=\"fixed\">\n  <thead>\n    <tr>\n      <th>字段名称</th>\n      <th>描述</th>\n      <th>操作</th>\n    </tr>\n  </thead>\n  <tbody>\n    <ng-container *ngFor=\"let data of expandTable.data\">\n      <ng-container *ngFor=\"let item of mapOfExpandedData[data.key]\">\n        <tr *ngIf=\"(item.parent && item.parent.expand) || !item.parent\">\n          <td [nzIndentSize]=\"item.level! * 20\" [nzShowExpand]=\"!!item.children\" [(nzExpand)]=\"item.expand\"\n            (nzExpandChange)=\"collapse(mapOfExpandedData[data.key], item, $event)\">\n            {{ item.name }}\n          </td>\n          <td>{{ item.des }}</td>\n          <td nzAlign=\"center\">\n            <a (click)='handleEditAttrModalShow()'>编辑</a>\n            <nz-divider nzType=\"vertical\"></nz-divider>\n            <a (click)='showMenuDeleteConfirm()'>删除</a>\n          </td>\n        </tr>\n      </ng-container>\n    </ng-container>\n  </tbody>\n</nz-table>\n\n<!--添加弹框-->\n<app-attr-form-modal title='添加' [isVisible]=\"addAttrModalOpen\" [handleOk]=\"handleAddAttrOk\"\n[handleCancel]=\"handleAddAttrCancel\"></app-attr-form-modal>\n\n<!--编辑弹框-->\n<app-attr-form-modal title='编辑' [isVisible]=\"editAttrModalOpen\" [handleOk]=\"handleEditAttrOk\"\n[handleCancel]=\"handleEditAttrCancel\"></app-attr-form-modal>","import { NgModule } from '@angular/core';\nimport {CommonModule} from '@angular/common';\n\nimport { DictionaryAttrRoutingModule } from './dictionary-attr-routing.module';\n\nimport { DictionaryAttrComponent } from './dictionary-attr.component';\n\nimport {PageHeaderModule} from '../../../../components/page-header/page-header.module'\nimport {AttrFormModalModule} from '../components/attr-form-modal/attr-form-modal.module'\nimport { NzButtonModule } from 'ng-zorro-antd/button';\nimport { NzTableModule } from 'ng-zorro-antd/table';\nimport { NzDividerModule } from 'ng-zorro-antd/divider';\nimport { NzModalModule } from 'ng-zorro-antd/modal';\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    DictionaryAttrRoutingModule,\n    AttrFormModalModule,\n    PageHeaderModule,\n    NzButtonModule,\n    NzTableModule,\n    NzDividerModule,\n    NzModalModule\n  ],\n  declarations: [DictionaryAttrComponent],\n  exports: [DictionaryAttrComponent]\n})\nexport class DictionaryAttrModule { }\n"],"sourceRoot":"webpack:///"}