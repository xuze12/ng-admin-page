{"version":3,"sources":["webpack:///src/app/pages/roles/roles-list/roles-routing.module.ts","webpack:///src/app/pages/roles/roles-list/roles.component.ts","webpack:///src/app/pages/roles/roles-list/roles.component.html","webpack:///src/app/pages/roles/roles-list/roles.module.ts"],"names":["routes","path","component","RolesRoutingModule","forChild","imports","exports","RolesComponent","modal","checked","indeterminate","listOfCurrentPageData","listOfData","setOfCheckedId","Set","Array","fill","map","_","index","id","name","mechanism","authority","add","updateCheckedSet","refreshCheckedStatus","value","forEach","item","$event","every","has","some","confirm","nzTitle","nzContent","nzOkText","nzOkType","nzOnOk","console","log","nzCancelText","nzOnCancel","onCurrentPageDataChange","onAllChecked","selector","templateUrl","styleUrls","RolesModule","declarations"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAIA,QAAMA,MAAM,GAAW,CACrB;AAAEC,UAAI,EAAE,EAAR;AAAYC,eAAS,EAAE;AAAvB,KADqB,CAAvB;;QAQaC,kB;;;;;YAAAA;;;;yBAAAA,kB;AAAkB,O;AAAA,gBAHpB,CAAC,6DAAaC,QAAb,CAAsBJ,MAAtB,CAAD,CAGoB,EAFnB,4DAEmB;;;;0HAAlBG,kB,EAAkB;AAAA;AAAA,kBAFnB,4DAEmB;AAAA,O;AAFP,K;;;;;sEAEXA,kB,EAAkB;cAJ9B,sDAI8B;eAJrB;AACRE,iBAAO,EAAE,CAAC,6DAAaD,QAAb,CAAsBJ,MAAtB,CAAD,CADD;AAERM,iBAAO,EAAE,CAAC,4DAAD;AAFD,S;AAIqB,Q;;;;;;;;;;;;;;;;;;ACZ/B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;ACqBI;;AACE;;AAA8C;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAAmD;;AACjG;;AAAK;;AAAe;;AACpB;;AAAI;;AAAoB;;AACxB;;AAAI;;AAAoB;;AACxB;;AACE;;AAAG;AAAA;;AAAA;;AAAA;AAAA;;AAA8B;;AAAE;;AACnC;;AACA;;AAAG;;AAAE;;AACP;;AACF;;;;;;;;AATM;;AAAA;;AACC;;AAAA;;AACD;;AAAA;;AACA;;AAAA;;;;QDNGC,c;AAQX,8BAAoBC,KAApB,EAA2C;AAAA;;AAAvB,aAAAA,KAAA,GAAAA,KAAA;AANpB,aAAAC,OAAA,GAAU,KAAV;AACA,aAAAC,aAAA,GAAgB,KAAhB;AACA,aAAAC,qBAAA,GAAoC,EAApC;AACA,aAAAC,UAAA,GAAyB,EAAzB;AACA,aAAAC,cAAA,GAAiB,IAAIC,GAAJ,EAAjB;AAE8C;;;;mCAEnC;AAET,eAAKF,UAAL,GAAkB,IAAIG,KAAJ,CAAU,EAAV,EAAcC,IAAd,CAAmB,CAAnB,EAAsBC,GAAtB,CAA0B,UAACC,CAAD,EAAIC,KAAJ,EAAc;AACxD,mBAAO;AACLC,gBAAE,EAAED,KADC;AAELE,kBAAI,EAAE,MAFD;AAGLC,uBAAS,EAAE,UAHN;AAILC,uBAAS,EAAE;AAJN,aAAP;AAMD,WAPiB,CAAlB;AAQD;;;yCAEgBH,E,EAAYX,O,EAAgB;AAC3C,cAAIA,OAAJ,EAAa;AACX,iBAAKI,cAAL,CAAoBW,GAApB,CAAwBJ,EAAxB;AACD,WAFD,MAEO;AACL,iBAAKP,cAAL,WAA2BO,EAA3B;AACD;AACF;;;sCAEaA,E,EAAYX,O,EAAgB;AACxC,eAAKgB,gBAAL,CAAsBL,EAAtB,EAA0BX,OAA1B;AACA,eAAKiB,oBAAL;AACD;;;qCAEYC,K,EAAc;AAAA;;AACzB,eAAKhB,qBAAL,CAA2BiB,OAA3B,CAAmC,UAAAC,IAAI;AAAA,mBAAI,KAAI,CAACJ,gBAAL,CAAsBI,IAAI,CAACT,EAA3B,EAA+BO,KAA/B,CAAJ;AAAA,WAAvC;AACA,eAAKD,oBAAL;AACD;;;gDAEuBI,M,EAAkB;AACxC,eAAKnB,qBAAL,GAA6BmB,MAA7B;AACA,eAAKJ,oBAAL;AACD;;;+CAEmB;AAAA;;AAClB,eAAKjB,OAAL,GAAe,KAAKE,qBAAL,CAA2BoB,KAA3B,CAAiC,UAAAF,IAAI;AAAA,mBAAI,MAAI,CAAChB,cAAL,CAAoBmB,GAApB,CAAwBH,IAAI,CAACT,EAA7B,CAAJ;AAAA,WAArC,CAAf;AACA,eAAKV,aAAL,GAAqB,KAAKC,qBAAL,CAA2BsB,IAA3B,CAAgC,UAAAJ,IAAI;AAAA,mBAAI,MAAI,CAAChB,cAAL,CAAoBmB,GAApB,CAAwBH,IAAI,CAACT,EAA7B,CAAJ;AAAA,WAApC,KAA6E,CAAC,KAAKX,OAAxG;AACD;;;4CAEgB;AACf,eAAKD,KAAL,CAAW0B,OAAX,CAAmB;AACjBC,mBAAO,EAAE,IADQ;AAEjBC,qBAAS,EAAE,oDAFM;AAGjBC,oBAAQ,EAAE,IAHO;AAIjBC,oBAAQ,EAAE,QAJO;AAKjBC,kBAAM,EAAE;AAAA,qBAAMC,OAAO,CAACC,GAAR,CAAY,IAAZ,CAAN;AAAA,aALS;AAMjBC,wBAAY,EAAE,IANG;AAOjBC,sBAAU,EAAE;AAAA,qBAAMH,OAAO,CAACC,GAAR,CAAY,QAAZ,CAAN;AAAA;AAPK,WAAnB;AASD;;;;;;;uBA5DUlC,c,EAAc,mI;AAAA,K;;;YAAdA,c;AAAc,gC;AAAA,e;AAAA,a;AAAA,qW;AAAA;AAAA;AClB3B;;AAGA;;AACE;;AAAmC;;AAAmC;;AAAE;;AAAS;;AACnF;;AAGA;;AACE;AAAA,mBAA2B,IAAAqC,uBAAA,QAA3B;AAA0D,WAA1D;;AACA;;AACE;;AACE;;AAAI;AAAA;AAAA,aAAuB,iBAAvB,EAAuB;AAAA,mBAAsD,IAAAC,YAAA,QAAtD;AAA0E,WAAjG;;AAAmG;;AACvG;;AAAI;;AAAI;;AACR;;AAAI;;AAAI;;AACR;;AAAI;;AAAI;;AACR;;AAAqB;;AAAE;;AACzB;;AACF;;AACA;;AACE;;AAWF;;AACF;;;;;;AAxB8B;;AAAA;;AAIpB;;AAAA,6FAAuB,iBAAvB,EAAuB,iBAAvB;;AAQF;;AAAA;;;;;;;;;sEDFKtC,c,EAAc;cAL1B,uDAK0B;eALhB;AACTuC,kBAAQ,EAAE,WADD;AAETC,qBAAW,EAAE,wBAFJ;AAGTC,mBAAS,EAAE,CAAC,wBAAD;AAHF,S;AAKgB,Q;;;;;;;;;;;;;;;;;;;;;;AEnB3B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QA2BaC,W;;;;;YAAAA;;;;yBAAAA,W;AAAW,O;AAAA,gBAZb,CACP,4DADO,EAEP,wEAFO,EAGP,2FAHO,EAIP,mEAJO,EAKP,iEALO,EAMP,qEANO,EAOP,iEAPO,CAYa;;;;0HAAXA,W,EAAW;AAAA,uBAHP,+DAGO;AAHO,kBAR3B,4DAQ2B,EAP3B,wEAO2B,EAN3B,2FAM2B,EAL3B,mEAK2B,EAJ3B,iEAI2B,EAH3B,qEAG2B,EAF3B,iEAE2B,CAGP;AALP,kBAGL,+DAHK;AAKO,O;AAFE,K;;;;;sEAEbA,W,EAAW;cAbvB,sDAauB;eAbd;AACR5C,iBAAO,EAAE,CACP,4DADO,EAEP,wEAFO,EAGP,2FAHO,EAIP,mEAJO,EAKP,iEALO,EAMP,qEANO,EAOP,iEAPO,CADD;AAUR6C,sBAAY,EAAE,CAAC,+DAAD,CAVN;AAWR5C,iBAAO,EAAE,CAAC,+DAAD;AAXD,S;AAac,Q","file":"pages-roles-roles-list-roles-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { RolesComponent } from './roles.component';\n\nconst routes: Routes = [\n  { path: '', component: RolesComponent },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class RolesRoutingModule { }\n","import { Component, OnInit } from '@angular/core';\nimport { NzModalService } from 'ng-zorro-antd/modal';\n\n\n\ninterface ItemData {\n  id: number;\n  name: string;\n  mechanism: string;\n  authority: string;\n}\n\n\n\n@Component({\n  selector: 'app-roles',\n  templateUrl: './roles.component.html',\n  styleUrls: ['./roles.component.scss']\n})\nexport class RolesComponent implements OnInit {\n\n  checked = false;\n  indeterminate = false;\n  listOfCurrentPageData: ItemData[] = [];\n  listOfData: ItemData[] = [];\n  setOfCheckedId = new Set<number>();\n\n  constructor(private modal: NzModalService) { }\n\n  ngOnInit() {\n\n    this.listOfData = new Array(20).fill(0).map((_, index) => {\n      return {\n        id: index,\n        name: '炊管人员',\n        mechanism: '广州军区/后勤部',\n        authority: '人员管理/新建,编辑,删除、组织结构管理/新建,编辑,删除、角色管理/新建,编辑,删除'\n      };\n    });\n  }\n\n  updateCheckedSet(id: number, checked: boolean): void {\n    if (checked) {\n      this.setOfCheckedId.add(id);\n    } else {\n      this.setOfCheckedId.delete(id);\n    }\n  }\n\n  onItemChecked(id: number, checked: boolean): void {\n    this.updateCheckedSet(id, checked);\n    this.refreshCheckedStatus();\n  }\n\n  onAllChecked(value: boolean): void {\n    this.listOfCurrentPageData.forEach(item => this.updateCheckedSet(item.id, value));\n    this.refreshCheckedStatus();\n  }\n\n  onCurrentPageDataChange($event: ItemData[]): void {\n    this.listOfCurrentPageData = $event;\n    this.refreshCheckedStatus();\n  }\n\n  refreshCheckedStatus(): void {\n    this.checked = this.listOfCurrentPageData.every(item => this.setOfCheckedId.has(item.id));\n    this.indeterminate = this.listOfCurrentPageData.some(item => this.setOfCheckedId.has(item.id)) && !this.checked;\n  }\n\n  showDeleteConfirm(): void {\n    this.modal.confirm({\n      nzTitle: '提示',\n      nzContent: '<b style=\"color: red;\">你正在删除角色,删除后不可恢复,你确定要删除？</b>',\n      nzOkText: '删除',\n      nzOkType: 'danger',\n      nzOnOk: () => console.log('OK'),\n      nzCancelText: '取消',\n      nzOnCancel: () => console.log('Cancel')\n    });\n  }\n\n}\n","<!--页头部-->\n<app-page-header></app-page-header>\n\n<!--添加按钮-->\n<div class=\"add-button\">\n  <a routerLink=\"/admin/roles/add\">  <button nz-button nzType=\"primary\">添加</button></a>\n</div>\n\n<!--列表-->\n<nz-table #rowSelectionTable  [nzData]=\"listOfData\"\n  (nzCurrentPageDataChange)=\"onCurrentPageDataChange($event)\">\n  <thead>\n    <tr>\n      <th [(nzChecked)]=\"checked\" [nzIndeterminate]=\"indeterminate\" (nzCheckedChange)=\"onAllChecked($event)\"></th>\n      <th>角色名称</th>\n      <th>所属机构</th>\n      <th>访问权限</th>\n      <th nzAlign=\"center\">操作</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr *ngFor=\"let data of rowSelectionTable.data\">\n      <td [nzChecked]=\"setOfCheckedId.has(data.id)\" (nzCheckedChange)=\"onItemChecked(data.id, $event)\"></td>\n      <td >{{ data.name }}</td>\n      <td>{{ data.mechanism }}</td>\n      <td>{{ data.authority }}</td>\n      <td nzAlign=\"center\">\n        <a (click)=\"showDeleteConfirm()\">删除</a>\n        <nz-divider nzType=\"vertical\"></nz-divider>\n        <a>编辑</a>\n      </td>\n    </tr>\n  </tbody>\n</nz-table>\n","import { NgModule } from '@angular/core';\nimport {CommonModule} from '@angular/common';\n\nimport { RolesRoutingModule } from './roles-routing.module';\n\nimport { RolesComponent } from './roles.component';\n\nimport {PageHeaderModule} from '../../../components/page-header/page-header.module'\nimport { NzButtonModule } from 'ng-zorro-antd/button';\nimport { NzTableModule } from 'ng-zorro-antd/table';\nimport { NzDividerModule } from 'ng-zorro-antd/divider';\nimport { NzModalModule } from 'ng-zorro-antd/modal';\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    RolesRoutingModule,\n    PageHeaderModule,\n    NzButtonModule,\n    NzTableModule,\n    NzDividerModule,\n    NzModalModule\n  ],\n  declarations: [RolesComponent],\n  exports: [RolesComponent]\n})\nexport class RolesModule { }\n"]}